<!--App Controller-->
<ion-view>
<ion-content class="text-center has-header has-footer padding" scroll="false">
      <ion-refresher on-refresh="refreshNotification()">
                     
      </ion-refresher>
  <div class="col-xs-12 col-xs-offset-0 col-md-8 col-md-offset-2 nopadding">

<p>
    <!--
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	FOR GUEST
	FOR GUEST
	-->

    <div ng-if="authProfile == null">
		
		<h2 class="title"><small>Welcome To</small><br>{{APP_CONSTANT.NAME}}</h2>

		<img ng-src="{{APP_CONSTANT.LOGO_ONLY_SMALL}}" style="height: 150px; width: auto; margin-left:auto; margin-right:auto;" class="img-responsive" alt="logo">

		<br>
    	<!-- #################################### -->
		<!-- USER COUNT -->
		<h4 class="title">Registered Users Count</h4>
		<h4>
			<span class="label label-primary">{{suppliersCount}} Suppliers</span>
			<span class="label label-success">{{stockistsCount}} Stokists</span>
			<span class="label label-danger">{{dropshipsCount}} Dropships</span>
		</h4>

		<br>
		<!-- USER COUNT -->
	  	<!-- #################################### -->

		<h4 class="title">Be Part of the Community<br><small>Let's Get Started!</small></h4>
		<div ng-app="sample" ng-controller="AppController">
			<button class="button button-block button-orange" ng-click="login()">Login</button>
			<button class="button button-block button-orange" ng-click="signup()">Signup</button>
		</div>

    </div>

    <!--
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	FOR NEW USER
	FOR NEW USER
	-->
    <div ng-if="authProfile != null && userInSession == null">
		<h3 class="title">Hello {{authProfile.nickname}}</h3>
		
		  <div class="item item-avatar text-left" ng-click="myProfile()">
		    <img src="{{authProfile.picture}} ">
		    <h2>{{authProfile.nickname}}</h2>
		
			<div ng-if="userInSession == null">
				<p>New User</p>
			</div>
		  </div>    
		<hr>
		<div ng-app="sample" ng-controller="RegisterController">
			    <h4 class="title">Lets get started<br><small>Choose Your Line of Business</small></h4>
			      <a class="fa fa-home btn-{{USER_TYPE.ION_COLOR.SUPPLIER}} smGlobalBtnLarge" ng-click="register(USER_TYPE.SUPPLIER)"><span class="large-round-btn-text"><br>Supplier</span></a>
			      <a class="fa fa-archive btn-{{USER_TYPE.ION_COLOR.STOCKIST}} smGlobalBtnLarge" ng-click="register(USER_TYPE.STOCKIST)"><span class="large-round-btn-text"><br>Stockist</span></a>
			      <a class="fa fa-users btn-{{USER_TYPE.ION_COLOR.DROPSHIP}} smGlobalBtnLarge" ng-click="register(USER_TYPE.DROPSHIP)"><span class="large-round-btn-text"><br>Dropship</span></a>
			      <br>
		</div>
			
			<hr>
			<h4 class="title">Which one am I?</h4>

			<div class="card text-center">

			    <div class="row">  
			      <div class="col col-75">
			        <blockquote class="blockquote-reverse" style="padding-left:15px;">
			          <h4 class="text-{{USER_TYPE.ION_COLOR.SUPPLIER}}"><strong>Supplier</strong></h4>
			          	<p class="paragraph text-muted text-right">
			          		You <strong>provide the products</strong> yourself and you <strong>have agents</strong> to distribute it
			          	</p>
			        </blockquote>
			      </div>  
			      <div class="col">
			        <li class="fa fa-home text-{{USER_TYPE.ION_COLOR.SUPPLIER}}" style="font-size:60px; height: auto; width: auto; margin-left:auto; margin-right:auto;"></li>
			      </div>
			    </div>  

			  <div class="row">  
			    <div class="col">
			      <li class="fa fa-archive text-{{USER_TYPE.ION_COLOR.STOCKIST}}" style="padding-left:25px; font-size:60px; height: auto; width: auto; margin-left:auto; margin-right:auto;"></li>
			    </div>      
			    <div class="col col-75">
			      <blockquote>
			        <div class="paragraph text-muted text-left">
			          <h4 class="text-{{USER_TYPE.ION_COLOR.STOCKIST}}"><strong>Stockist</strong></h4>
			          	<p class="paragraph text-muted text-left">
							You have <strong>one or more suppliers</strong> where you buy your products.<br>You have your <strong>own inventory</strong> and you might have <strong>some dropship agents</strong> working for you
			      		</p>
			        </div>
			      </blockquote>
			    </div>  
			  </div>  

			    <div class="row">  
			      <div class="col col-75">
			        <blockquote class="blockquote-reverse" style="padding-left:15px;">
			          <h4 class="text-{{USER_TYPE.ION_COLOR.DROPSHIP}}"><strong>Dropship</strong></h4>
			          	<p class="paragraph text-muted text-right">
 							You <strong>receive orders from customers</strong> and you <strong>request</strong> your supplier to <strong>send the orders</strong> to the customers.<br>You <strong>do not hold</strong> any inventory
 			          	</p>	
			        </blockquote>
			      </div>  
			      <div class="col">
			        <li class="fa fa-users text-{{USER_TYPE.ION_COLOR.DROPSHIP}}" style="font-size:60px; height: auto; width: auto; margin-left:auto; margin-right:auto;"></li>
			      </div>
			    </div>  

			</div>

    </div>


    <!--
 	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 	-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	FOR REGISTERED USER
	FOR REGISTERED USER
	FOR REGISTERED USER
	-->
    <div ng-if="authProfile != null && userInSession != null">

    	<!--
		-------------------------------------------------------------------------------------------------------------------------------------------------------------
		NEW INFO
		UPDATES
		-->
		<div ng-if="userInSession.user_type < USER_TYPE.DROPSHIP && update" class="alert alert-info">
		<a href="#" class="close" data-dismiss="alert" aria-label="close" ng-click="closeUpdate()">&times;</a>
	    	<small><strong>New Update !!!</strong>
	    	<br>
	    	Now you can add up to <strong>five (5)</strong> photos for your product
	    	<br>
	    	<small>Hit refresh at <strong><a href="" ng-click="addProduct()">Add Product</a></strong> and <strong><a href="" ng-click="myProducts()">My Products</a></strong> page to see the changes.</small>
	  		</small>
  		</div>



		<!--
		-------------------------------------------------------------------------------------------------------------------------------------------------------------
		Profile Card
		Profile Card
		-->
		<h3 class="title">Welcome Back {{authProfile.nickname}}</h3>

		<div class="text-center" ng-show="myProfileLoad">
				<img id="mySpinner" ng-src="{{APP_CONSTANT.LOADER}}"/>
		</div>

		<div ng-if="!myProfileLoad" class="text-left">
			
			<div class="item item-avatar">
				
			    <img src="{{authProfile.picture}} ">
	
			    <a href="" ng-click="myProfile()"><h2><strong>{{authProfile.nickname}}</strong></h2></a>
				
					<p ng-if="userInSession != null">{{userInSession.user_type.getUserType()}}</p>
					<p ng-if="userInSession == null">New User</p>		    
			</div>   
		</div>   

		<!--
		-------------------------------------------------------------------------------------------------------------------------------------------------------------
		NOTIFICATION
		NOTIFICATION
		-->
		<hr>

		<a class="link" href="" ng-click="refreshNotification()">
		<h4>What's New?</h4>
		</a>
		  <div class="text-center" ng-show="myNotificationLoad">
				<img id="mySpinner" ng-src="{{APP_CONSTANT.LOADER}}"/>
		  </div>
	    
	    <div class="text-left">
			<div class="list">
	          <div ng-repeat="item in myNotification">
				    <div class="item item-body" >
		   				
		   				<a class="link-in-item" ng-click="isRead(item)" href="#{{item.link}}">
							<i ng-if="item.category == NOTI_CATEGORY.GENERAL" class="icon ion-android-notifications"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.PROFILE" class="icon ion-person"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.LINK" class="icon ion-person-stalker"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.PRODUCT" class="icon ion-bag"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.TRANSACTION" class="icon ion-arrow-swap"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.PAYMENT" class="icon ion-cash"></i>	
		   			  		<i ng-if="item.category == NOTI_CATEGORY.REVIEW" class="icon ion-chatbubble-working"></i>	
							{{item.text}}
						</a>
						<br>
						
							
							<span ng-if="!item.isRead" class="label label-primary">New</span>

							<span class="small text-muted" style="font-size:10px;">{{item.created_at.getTime()}} - {{item.created_at.getDate()}}</span>
						

				    </div>
	          </div>

	         
	            <div ng-if="myNotification.length == 5" class="item text-right">
	          	    <button class="button button-small button-positive icon-right ion-arrow-right-a" ng-click="allNotifications()">See More Notifications</button>
				</div>

			</div>
		</div>

	    <div  class="info-text" ng-if="myNotification.length == 0">
	    	You Have No Notification
	    </div>

		<!--
		-------------------------------------------------------------------------------------------------------------------------------------------------------------
		ADMIN VIEW
		ADMIN VIEW
		-->
		<div ng-if="userInSession.user_id == 1" ng-controller="AdminController">
			<hr>
			<h4 class="title">Admin Panel</h4>
			<div class="item item-body text-left">
			Picture Link<input type="text" ng-model="picture"></input>
			<button class="button button-small button-positive icon-right ion-arrow-right-a" ng-click="deletePicture()">DELETE PICTURE</button>
			</div>
		</div>

    </div>






</p>
<hr>
</div>
</ion-content>
</ion-view>
